<h2 class="font-semibold text-xl md:text-2xl">Pages</h2>
<p class="opacity-50 mt-1">
  Summer will appear on all the pages from your domain link with more than 500 symbols.
  Each page is added to the list after the first Summer appearance.
  Turn Summer on and off manually per page if needed.
</p>

<div class="grid gap-4 grid-flow-row md:grid-flow-col grid-cols-1 md:grid-cols-3 mt-12">
  <%=
    render 'private/pages/metric_card',
           title: 'Pages',
           icon_src: vite_asset_path('assets/icons/pages.svg'),
           number: @statistics.total_pages_count,
           comment: "+#{number_with_delimiter(@statistics.current_month_new_pages_count)} pages this month"
  %>
  <%=
    render 'private/pages/metric_card',
           title: 'Button Showed',
           icon_src: vite_asset_path('assets/icons/eye.svg'),
           number: @statistics.total_views_count,
           comment: "+#{number_with_delimiter(@statistics.current_month_new_views_count)} new views this month"
  %>
  <%=
    render 'private/pages/metric_card',
           title: 'Button Clicked',
           icon_src: vite_asset_path('assets/icons/click.svg'),
           number: @statistics.total_clicks_count,
           comment: "+#{number_with_delimiter(@statistics.current_month_new_clicks_count)} new clicks this month"
  %>
</div>


  <div class="mt-12">
    <%=turbo_frame_tag 'pages', target: "_top", 'data-turbo-action': 'advance' do %>
      <div class="overflow-x-auto mt-6">
        <table class="table tracking-tight table-summer">
          <thead>
            <tr>
              <th class="font-semibold pl-0">Page</th>
              <th class="font-semibold w-24 text-right">Shown</th>
              <th class="font-semibold w-24 text-right">Clicked</th>
              <th class="font-semibold w-24 text-right">On/Off</th>
            </tr>
          </thead>
          <tbody>
            <% if @pages.length == 0 %>
              <tr>
                <td colspan="4" class="opacity-60 text-center py-24">
                  There are no pages yet. <br>
                  Each page will appear here after first Summer appearance.
                </td>
              </tr>
            <% end %>
            <% @pages.each_with_index do |page, i|%>
              <%= render ProjectPageComponents::RowComponent.new(project: @current_project, page:) %>
            <% end %>

          </tbody>
        </table>
      </div>
      <% if @pagy.pages > 1 %>
        <div class="mt-6">
          <%== pagy_nav(@pagy) %>
        </div>
      <% end %>
    <% end %>
  </div>

