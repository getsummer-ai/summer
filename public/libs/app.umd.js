(function(_){typeof define=="function"&&define.amd?define(_):_()})(function(){"use strict";var Xt=Object.defineProperty;var en=(_,D,$)=>D in _?Xt(_,D,{enumerable:!0,configurable:!0,writable:!0,value:$}):_[D]=$;var P=(_,D,$)=>(en(_,typeof D!="symbol"?D+"":D,$),$);function _(){}function D(e,t){for(const n in t)e[n]=t[n];return e}function $(e){return e()}function ze(){return Object.create(null)}function F(e){e.forEach($)}function Se(e){return typeof e=="function"}function Q(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let te;function Ae(e,t){return e===t?!0:(te||(te=document.createElement("a")),te.href=t,e===te.href)}function rt(e){return Object.keys(e).length===0}function Ce(e,t,n,r){if(e){const s=Be(e,t,n,r);return e[0](s)}}function Be(e,t,n,r){return e[1]&&r?D(n.ctx.slice(),e[1](r(t))):n.ctx}function Me(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const a=[],o=Math.max(t.dirty.length,s.length);for(let i=0;i<o;i+=1)a[i]=t.dirty[i]|s[i];return a}return t.dirty|s}return t.dirty}function Ie(e,t,n,r,s,a){if(s){const o=Be(t,n,r,a);e.p(o,s)}}function Te(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function v(e,t){e.appendChild(t)}function ne(e,t,n){const r=st(e);if(!r.getElementById(t)){const s=k("style");s.id=t,s.textContent=n,ot(r,s)}}function st(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function ot(e,t){return v(e.head||e,t),t.sheet}function E(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode&&e.parentNode.removeChild(e)}function it(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function k(e){return document.createElement(e)}function lt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e){return document.createTextNode(e)}function N(){return Y(" ")}function re(){return Y("")}function L(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function at(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function ct(e){return function(t){t.target===this&&e.call(this,t)}}function m(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ut(e){return Array.from(e.childNodes)}function ft(e,t){t=""+t,e.data!==t&&(e.data=t)}function De(e,t){e.value=t??""}function $e(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function dt(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}class pt{constructor(t=!1){P(this,"is_svg",!1);P(this,"e");P(this,"n");P(this,"t");P(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,r=null){this.e||(this.is_svg?this.e=lt(n.nodeName):this.e=k(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)E(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(x)}}let U;function G(e){U=e}function Ne(){if(!U)throw new Error("Function called outside component initialization");return U}function gt(e){Ne().$$.on_mount.push(e)}function ht(){const e=Ne();return(t,n,{cancelable:r=!1}={})=>{const s=e.$$.callbacks[t];if(s){const a=dt(t,n,{cancelable:r});return s.slice().forEach(o=>{o.call(e,a)}),!a.defaultPrevented}return!0}}function mt(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const Z=[],J=[];let j=[];const me=[],bt=Promise.resolve();let be=!1;function _t(){be||(be=!0,bt.then(Pe))}function _e(e){j.push(e)}function Le(e){me.push(e)}const we=new Set;let K=0;function Pe(){if(K!==0)return;const e=U;do{try{for(;K<Z.length;){const t=Z[K];K++,G(t),wt(t.$$)}}catch(t){throw Z.length=0,K=0,t}for(G(null),Z.length=0,K=0;J.length;)J.pop()();for(let t=0;t<j.length;t+=1){const n=j[t];we.has(n)||(we.add(n),n())}j.length=0}while(Z.length);for(;me.length;)me.pop()();be=!1,we.clear(),G(e)}function wt(e){if(e.fragment!==null){e.update(),F(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_e)}}function vt(e){const t=[],n=[];j.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),j=t}const se=new Set;let O;function oe(){O={r:0,c:[],p:O}}function ie(){O.r||F(O.c),O=O.p}function y(e,t){e&&e.i&&(se.delete(e),e.i(t))}function A(e,t,n,r){if(e&&e.o){if(se.has(e))return;se.add(e),O.c.push(()=>{se.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Fe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Oe(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function ve(e){e&&e.c()}function le(e,t,n){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),_e(()=>{const a=e.$$.on_mount.map($).filter(Se);e.$$.on_destroy?e.$$.on_destroy.push(...a):F(a),e.$$.on_mount=[]}),s.forEach(_e)}function ae(e,t){const n=e.$$;n.fragment!==null&&(vt(n.after_update),F(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function kt(e,t){e.$$.dirty[0]===-1&&(Z.push(e),_t(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ce(e,t,n,r,s,a,o=null,i=[-1]){const l=U;G(e);const c=e.$$={fragment:null,ctx:[],props:a,update:_,not_equal:s,bound:ze(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:ze(),dirty:i,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let b=!1;if(c.ctx=n?n(e,t.props||{},(h,p,...f)=>{const u=f.length?f[0]:p;return c.ctx&&s(c.ctx[h],c.ctx[h]=u)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](u),b&&kt(e,h)),p}):[],c.update(),b=!0,F(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const h=ut(t.target);c.fragment&&c.fragment.l(h),h.forEach(x)}else c.fragment&&c.fragment.c();t.intro&&y(e.$$.fragment),le(e,t.target,t.anchor),Pe()}G(l)}class ue{constructor(){P(this,"$$");P(this,"$$set")}$destroy(){ae(this,1),this.$destroy=_}$on(t,n){if(!Se(n))return _;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!rt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const yt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(yt);const V=[];function Re(e,t=_){let n;const r=new Set;function s(i){if(Q(e,i)&&(e=i,n)){const l=!V.length;for(const c of r)c[1](),V.push(c,e);if(l){for(let c=0;c<V.length;c+=2)V[c][0](V[c+1]);V.length=0}}}function a(i){s(i(e))}function o(i,l=_){const c=[i,l];return r.add(c),r.size===1&&(n=t(s,a)||_),i(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:s,update:a,subscribe:o}}const W="https://app.getsummer.ai",fe=async(e,t,n=null)=>{const r=await fetch(e,{method:n==null?"GET":"POST",mode:"cors",headers:{"Content-Type":"application/json","Api-Key":t},...n==null?{}:{body:JSON.stringify(n)}});let s=await r.text();if(s)try{return s=JSON.parse(s),{status:r.status,body:s}}catch(a){console.log(a)}return{status:r.status,body:null}},xt=async(e,t)=>fe(`${W}/api/v1/button/init`,e,{s:t}),Et=(e,t)=>{const n=new EventSource(`${W}/api/v1/pages/${t}/summary?key=${e}`),r=Re(""),s=Re(!1);return n.addEventListener("message",a=>{r.set(a.data)}),n.addEventListener("error",a=>{a.eventPhase===EventSource.CLOSED&&(n.close(),s.set(!0))}),{result:r,isCompleted:s}},zt=(e,t)=>fe(`${W}/api/v1/pages/${t}/products`,e),St=(e,t,n)=>fe(`${W}/api/v1/pages/${t}/products/${n}/click`,e,{}),At=(e,t,n)=>fe(`${W}/api/v1/pages/${t}/subscribe`,e,{email:n});let de;const ke=e=>{if(!e&&de)return de;if(!e)throw new Error("projectId is required");return de={clickService:St.bind(null,e),getServices:zt.bind(null,e),getSummary:Et.bind(null,e),subscribe:At.bind(null,e)},de};function Ct(e){ne(e,"svelte-1w52nkd",'dialog.svelte-1w52nkd.svelte-1w52nkd{width:100%;max-width:560px;padding:0;border:none;border-radius:16px;background:#FFF;font-size:16px;line-height:22px;font-style:normal;font-weight:400}dialog.svelte-1w52nkd .dialog.svelte-1w52nkd{position:relative;padding:60px 0 0}dialog.svelte-1w52nkd .body.svelte-1w52nkd{position:relative;max-height:70vh;overflow-y:auto;padding:0 30px 30px 30px;transition:max-height 0.5s, height 0.5s}@media(max-height: 40px){dialog.svelte-1w52nkd .body.svelte-1w52nkd{max-height:20vh}}@media(max-height: 500px){dialog.svelte-1w52nkd .body.svelte-1w52nkd{max-height:40vh}}@media(max-height: 650px){dialog.svelte-1w52nkd .body.svelte-1w52nkd{max-height:50vh}}dialog.svelte-1w52nkd .body.svelte-1w52nkd ul{margin:0;padding:0 0 0 15px;list-style-type:disc;list-style-position:outside}dialog.svelte-1w52nkd .body.svelte-1w52nkd li{margin:0 0 8px 0;padding:0}dialog.svelte-1w52nkd .body.svelte-1w52nkd p{margin:0 0 8px 0;padding:0}dialog.svelte-1w52nkd .body.svelte-1w52nkd p:first-child{margin-bottom:12px}dialog.svelte-1w52nkd .footer.svelte-1w52nkd{position:relative;z-index:10;min-height:3rem;box-shadow:0px -25px 14px -11px #fff;-webkit-box-shadow:0px -25px 14px -11px #fff;-moz-box-shadow:0px -25px 14px -11px #fff;border-top:1px solid #EFEFEF}dialog.svelte-1w52nkd.svelte-1w52nkd::backdrop{background:rgba(0, 0, 0, 0.3)}dialog[open].svelte-1w52nkd.svelte-1w52nkd{animation:svelte-1w52nkd-zoom 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)}@keyframes svelte-1w52nkd-zoom{from{transform:scale(0.95)}to{transform:scale(1)}}dialog[open].svelte-1w52nkd.svelte-1w52nkd::backdrop{animation:svelte-1w52nkd-fade 0.2s ease-out}@keyframes svelte-1w52nkd-fade{from{opacity:0}to{opacity:1}}.close.svelte-1w52nkd.svelte-1w52nkd{position:absolute;top:12px;right:12px;display:inline-block;width:24px;height:24px;text-align:center;cursor:pointer;background:rgba(0, 0, 0, 0.05);border-radius:50%;transition:background-color 0.1s}.close.svelte-1w52nkd.svelte-1w52nkd:hover{background:#e1e1e1}.close__x.svelte-1w52nkd.svelte-1w52nkd{position:relative;top:0;left:-0.5px;display:inline-block;width:10px;height:10px}.close__x.svelte-1w52nkd.svelte-1w52nkd::before,.close__x.svelte-1w52nkd.svelte-1w52nkd::after{position:absolute;width:1px;height:10px;content:" ";background-color:black}.close__x.svelte-1w52nkd.svelte-1w52nkd::before{transform:rotate(-45deg)}.close__x.svelte-1w52nkd.svelte-1w52nkd::after{transform:rotate(45deg)}.close.svelte-1w52nkd.svelte-1w52nkd:active{top:11px;right:11px;width:26px;height:26px;background:#e1e1e1}')}const Bt=e=>({}),He=e=>({});function Mt(e){let t,n,r,s,a,o,i,l,c,b;const h=e[4].default,p=Ce(h,e,e[3],null),f=e[4].footer,u=Ce(f,e,e[3],He);return{c(){t=k("dialog"),n=k("div"),r=k("button"),r.innerHTML='<span class="close__x svelte-1w52nkd"></span>',s=N(),a=k("div"),p&&p.c(),o=N(),i=k("div"),u&&u.c(),m(r,"class","close svelte-1w52nkd"),m(r,"tabindex","0"),m(a,"class","body svelte-1w52nkd"),m(i,"class","footer svelte-1w52nkd"),m(n,"class","dialog svelte-1w52nkd"),m(t,"class","svelte-1w52nkd")},m(d,T){E(d,t,T),v(t,n),v(n,r),v(n,s),v(n,a),p&&p.m(a,null),v(n,o),v(n,i),u&&u.m(i,null),e[7](t),l=!0,c||(b=[L(r,"click",e[6]),L(n,"click",at(e[5])),L(t,"close",e[1]),L(t,"click",ct(e[8]))],c=!0)},p(d,[T]){p&&p.p&&(!l||T&8)&&Ie(p,h,d,d[3],l?Me(h,d[3],T,null):Te(d[3]),null),u&&u.p&&(!l||T&8)&&Ie(u,f,d,d[3],l?Me(f,d[3],T,Bt):Te(d[3]),He)},i(d){l||(y(p,d),y(u,d),l=!0)},o(d){A(p,d),A(u,d),l=!1},d(d){d&&x(t),p&&p.d(d),u&&u.d(d),e[7](null),c=!1,F(b)}}}function It(e,t,n){let{$$slots:r={},$$scope:s}=t;const a=ht();function o(){a("close")}let{showModal:i=!1}=t,l;function c(f){mt.call(this,e,f)}const b=()=>l.close();function h(f){J[f?"unshift":"push"](()=>{l=f,n(0,l)})}const p=()=>l.close();return e.$$set=f=>{"showModal"in f&&n(2,i=f.showModal),"$$scope"in f&&n(3,s=f.$$scope)},e.$$.update=()=>{e.$$.dirty&5&&l&&i&&l.showModal()},[l,o,i,s,r,c,b,h,p]}class Tt extends ue{constructor(t){super(),ce(this,t,It,Mt,Q,{showModal:2},Ct)}}function Dt(e){ne(e,"svelte-xrzowf","a.svelte-xrzowf.svelte-xrzowf{font-size:16px;border-radius:12px;border:1px solid #e6e6e9;background:#fff;box-shadow:0 2px 4px 0 #e6e6e9;padding:9px 12px;display:flex;justify-content:space-between;align-items:center;text-decoration:none;color:black;margin-top:20px;animation:svelte-xrzowf-zoom 1s cubic-bezier(0.34, 1.56, 0.64, 1)}a.svelte-xrzowf .body.svelte-xrzowf{display:flex;align-items:center;justify-content:space-between}a.svelte-xrzowf .body img.svelte-xrzowf{width:auto;max-height:45px;border-radius:4px}a.svelte-xrzowf .body .title.svelte-xrzowf{margin-left:1.25rem}a.svelte-xrzowf.svelte-xrzowf:not(:first-of-type){margin-top:10px}a.svelte-xrzowf.svelte-xrzowf:hover{background-color:#f8f8f8}@keyframes svelte-xrzowf-zoom{from{opacity:0.2;transform:scale(0.95)}to{opacity:1;transform:scale(1)}}")}function $t(e){let t,n,r,s,a,o,i=e[0].name+"",l,c,b,h,p,f;return{c(){t=k("a"),n=k("div"),r=k("img"),a=N(),o=k("span"),l=Y(i),c=N(),b=k("div"),b.innerHTML='<svg width="18" height="11" viewBox="0 0 18 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.208 5.32L12.232 10.296H10.456L14.792 5.944H-0.00799996V4.696H14.824L10.472 0.344H12.248L17.208 5.32Z" fill="black"></path></svg>',m(r,"alt","preview"),Ae(r.src,s="data:image/webp;base64,"+(e[0].icon?e[0].icon:Ze))||m(r,"src",s),m(r,"class","svelte-xrzowf"),m(o,"class","title svelte-xrzowf"),m(n,"class","body svelte-xrzowf"),m(b,"class","icon"),m(t,"target","_blank"),m(t,"href",h=e[0].link),m(t,"class","svelte-xrzowf")},m(u,d){E(u,t,d),v(t,n),v(n,r),v(n,a),v(n,o),v(o,l),v(t,c),v(t,b),p||(f=L(t,"click",e[1]),p=!0)},p(u,[d]){d&1&&!Ae(r.src,s="data:image/webp;base64,"+(u[0].icon?u[0].icon:Ze))&&m(r,"src",s),d&1&&i!==(i=u[0].name+"")&&ft(l,i),d&1&&h!==(h=u[0].link)&&m(t,"href",h)},i:_,o:_,d(u){u&&x(t),p=!1,f()}}}const Ze="UklGRu4BAABXRUJQVlA4IOIBAABQDACdASo+AC0APoU4l0elI6IhMrbeYKAQiWoAnTKvOre08kyAEAntgH4zAZy9vkOgh4JcOf6+UHtoYnnQI0ofxVdaPK953IrCWaRh6wCYIbvBDf7BhTiZl5I6cQVoZw9UMWi++nD968tQAAD+8LbxR2HzLRY99ySxutdJJ4IAo3dk2igB3q9wa4KAhZsvu3S5GuNEvuW1PlV1REW/srz/QkrhyD6NuQ3kUA/tHi3aPECBNOTArZavMnRQMEbpTkwpOv7plM7e6IPsNJmOk+DNmd+tlbDTtKeLdOOvuMxZrO1ShCrpbg7CbnFyqRhT4zWubzKbBP3o9zPItggP56RNhtdVh7CseZQW5639vd5D6+Jfqml4zeLfTPSRf2Rjx+7ZRJ/Xc3OreSBYK02RZ2PeRk/pQd693nLl7zhldpz4lDSZB9tDg5pKjTN5NV4p2H98gYRI0bUoQruYxzpt6zA2v00ooGZDQ27bPeY8eTfw/J5sIMxfxVjCmACIdbsXpVhB0E/pxRy4j+Q3iNqCFcHUiyFIrFMa5I6SxrUhPDnrq8FUTtqmmIKs8KQmDY22rv/kKujcH/f5Ga0uTY5g/w9tpXghjN7ex0/3PbEqr4gltm9K2ftzmTtDwo4v78EfmOAAAA==";function Nt(e,t,n){let{service:r}=t,{pageId:s}=t;const a=()=>ke().clickService(s,r.uuid);return e.$$set=o=>{"service"in o&&n(0,r=o.service),"pageId"in o&&n(2,s=o.pageId)},[r,a,s]}class Lt extends ue{constructor(t){super(),ce(this,t,Nt,$t,Q,{service:0,pageId:2},Dt)}}function Pt(e){ne(e,"svelte-2b0m9n","div.svelte-2b0m9n{display:flex;justify-content:space-between}input.svelte-2b0m9n{flex-grow:1;height:50px;font-size:14px;padding:10px 20px;background:none;border:none;outline:none;box-shadow:none}button.svelte-2b0m9n{height:50px;padding:0 20px;font-size:14px;font-weight:600;color:#000;background:transparent;border:none;outline:none;cursor:pointer}button.svelte-2b0m9n:hover{color:#555}button.svelte-2b0m9n:focus{color:#0b0bde}")}function Ft(e){let t,n,r,s,a,o;return{c(){t=k("div"),n=k("input"),r=N(),s=k("button"),s.textContent="Subscribe",m(n,"placeholder","Your Email..."),m(n,"type","text"),m(n,"class","svelte-2b0m9n"),m(s,"class","svelte-2b0m9n"),m(t,"class","svelte-2b0m9n")},m(i,l){E(i,t,l),v(t,n),De(n,e[0]),v(t,r),v(t,s),a||(o=[L(n,"input",e[3]),L(s,"click",e[1])],a=!0)},p(i,[l]){l&1&&n.value!==i[0]&&De(n,i[0])},i:_,o:_,d(i){i&&x(t),a=!1,F(o)}}}function Ot(e,t,n){let{article:r}=t,s="";const a=async()=>{try{return(await ke().subscribe(r.page_id,s)).status==200?(n(0,s=""),console.log("success")):console.log("error")}catch(i){console.log("error",i);return}};function o(){s=this.value,n(0,s)}return e.$$set=i=>{"article"in i&&n(2,r=i.article)},[s,a,r,o]}class Rt extends ue{constructor(t){super(),ce(this,t,Ot,Ft,Q,{article:2},Pt)}}function je(e){var t=/</g,n=/>/g,r=/\t|\r|\uf8ff/g,s=/\\([\\\|`*_{}\[\]()#+\-~])/g,a=/^([*\-=_] *){3,}$/gm,o=/\n *&gt; *([^]*?)(?=(\n|$){2})/g,i=/\n( *)(?:[*\-+]|((\d+)|([a-z])|[A-Z])[.)]) +([^]*?)(?=(\n|$){2})/g,l=/<\/(ol|ul)>\n\n<\1>/g,c=/(^|[^A-Za-z\d\\])(([*_])|(~)|(\^)|(--)|(\+\+)|`)(\2?)([^<]*?)\2\8(?!\2)(?=\W|_|$)/g,b=/\n((```|~~~).*\n?([^]*?)\n?\2|((    .*?\n)+))/g,h=/((!?)\[(.*?)\]\((.*?)( ".*")?\)|\\([\\`*_{}\[\]()#+\-.!~]))/g,p=/\n(( *\|.*?\| *\n)+)/g,f=/^.*\n( *\|( *\:?-+\:?-+\:? *\|)* *\n|)/,u=/.*\n/g,d=/\||(.*?[^\\])\|/g,T=/(?=^|>|\n)([>\s]*?)(#{1,6}) (.*?)( #*)? *(?=\n|$)/g,ye=/(?=^|>|\n)\s*\n+([^<]+?)\n+\s*(?=\n|<|$)/g,xe=/-\d+\uf8ff/g;function C(w,z){e=e.replace(w,z)}function g(w,z){return"<"+w+">"+z+"</"+w+">"}function M(w){return w.replace(o,function(z,B){return g("blockquote",M(R(B.replace(/^ *&gt; */gm,""))))})}function tt(w){return w.replace(i,function(z,B,S,I,ee,H){var q=g("li",R(H.split(RegExp(`
 ?`+B+"(?:(?:\\d+|[a-zA-Z])[.)]|[*\\-+]) +","g")).map(tt).join("</li><li>")));return`
`+(S?'<ol start="'+(I?S+'">':parseInt(S,36)-9+'" style="list-style-type:'+(ee?"low":"upp")+'er-alpha">')+q+"</ol>":g("ul",q))})}function R(w){return w.replace(c,function(z,B,S,I,ee,H,q,Jt,nt,Wt){return B+g(I?nt?"strong":"em":ee?nt?"s":"sub":H?"sup":q?"small":Jt?"big":"code",R(Wt))})}function ge(w){return w.replace(s,"$1")}var Ee=[],he=0;return e=`
`+e+`
`,C(t,"&lt;"),C(n,"&gt;"),C(r,"  "),e=M(e),C(a,"<hr/>"),e=tt(e),C(l,""),C(b,function(w,z,B,S,I){return Ee[--he]=g("pre",g("code",S||I.replace(/^    /gm,""))),he+""}),C(h,function(w,z,B,S,I,ee,H){return Ee[--he]=I?B?'<img src="'+I+'" alt="'+S+'"/>':'<a href="'+I+'">'+ge(R(S))+"</a>":H,he+""}),C(p,function(w,z){var B=z.match(f)[1];return`
`+g("table",z.replace(u,function(S,I){return S==B?"":g("tr",S.replace(d,function(ee,H,q){return q?g(B&&!I?"th":"td",ge(R(H||""))):""}))}))}),C(T,function(w,z,B,S){return z+g("h"+B.length,ge(R(S)))}),C(ye,function(w,z){return g("p",ge(R(z)))}),C(xe,function(w){return Ee[parseInt(w)]}),e.trim()}function Ht(e){ne(e,"svelte-wy7l08",`*{font-family:"Inter", ui-sans-serif, system-ui, sans-serif;box-sizing:border-box;border-width:0;border-style:solid;letter-spacing:-0.01rem}.getsummer-btn.svelte-wy7l08.svelte-wy7l08{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-size:15px;line-height:22px;--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));padding:4px 12px;position:fixed;z-index:30;transition:opacity 0.3s;left:calc(50% - 50px);bottom:20px;box-shadow:0 36px 60px 0 rgba(0, 0, 0, 0.18), 0 13.902px 18.888px 0 rgba(0, 0, 0, 0.12), 0 6.929px 11.218px 0 rgba(0, 0, 0, 0.1), 0 3.621px 7.444px 0 rgba(0, 0, 0, 0.08), 0 1.769px 4.735px 0 rgba(0, 0, 0, 0.06), 0 0.664px 2.345px 0 rgba(0, 0, 0, 0.03);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.getsummer-btn.theme-white.svelte-wy7l08.svelte-wy7l08{font-size:15px;line-height:22px;--tw-text-opacity:1;color:rgb(0 0 0 / var(--tw-text-opacity));border:1px solid rgba(255, 255, 255, 0.4);background:linear-gradient(123deg, rgba(242, 242, 242, 0.85) 26.16%, rgba(255, 255, 255, 0.85) 75.51%)}.getsummer-btn.theme-black.svelte-wy7l08.svelte-wy7l08{font-size:15px;line-height:22px;--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));border:1px solid rgba(255, 255, 255, 0.2);background:rgba(0, 0, 0, 0.85)}.getsummer-btn.radius-sm.svelte-wy7l08.svelte-wy7l08{border-radius:0.125rem}.getsummer-btn.radius-xl.svelte-wy7l08.svelte-wy7l08{border-radius:1.5rem}.getsummer-btn.radius-lg.svelte-wy7l08.svelte-wy7l08{border-radius:0.75rem}.getsummer-btn.svelte-wy7l08 .loading-icon.svelte-wy7l08{pointer-events:none;display:inline-block;aspect-ratio:1 / 1;background-color:currentColor;-webkit-mask-size:100%;mask-size:100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;-webkit-mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' stroke='%23000' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cstyle%3E.spinner_V8m1%7Btransform-origin:center;animation:spinner_zKoa 2s linear infinite%7D.spinner_V8m1 circle%7Bstroke-linecap:round;animation:spinner_YpZS 1.5s ease-out infinite%7D%40keyframes spinner_zKoa%7B100%25%7Btransform:rotate(360deg)%7D%7D%40keyframes spinner_YpZS%7B0%25%7Bstroke-dasharray:0 150;stroke-dashoffset:0%7D47.5%25%7Bstroke-dasharray:42 150;stroke-dashoffset:-16%7D95%25%2C100%25%7Bstroke-dasharray:42 150;stroke-dashoffset:-59%7D%7D%3C%2Fstyle%3E%3Cg class='spinner_V8m1'%3E%3Ccircle cx='12' cy='12' r='9.5' fill='none' stroke-width='3'%3E%3C%2Fcircle%3E%3C%2Fg%3E%3C%2Fsvg%3E");mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' stroke='%23000' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cstyle%3E.spinner_V8m1%7Btransform-origin:center;animation:spinner_zKoa 2s linear infinite%7D.spinner_V8m1 circle%7Bstroke-linecap:round;animation:spinner_YpZS 1.5s ease-out infinite%7D%40keyframes spinner_zKoa%7B100%25%7Btransform:rotate(360deg)%7D%7D%40keyframes spinner_YpZS%7B0%25%7Bstroke-dasharray:0 150;stroke-dashoffset:0%7D47.5%25%7Bstroke-dasharray:42 150;stroke-dashoffset:-16%7D95%25%2C100%25%7Bstroke-dasharray:42 150;stroke-dashoffset:-59%7D%7D%3C%2Fstyle%3E%3Cg class='spinner_V8m1'%3E%3Ccircle cx='12' cy='12' r='9.5' fill='none' stroke-width='3'%3E%3C%2Fcircle%3E%3C%2Fg%3E%3C%2Fsvg%3E");width:1rem}`)}function Ke(e,t,n){const r=e.slice();return r[17]=t[n],r}function Zt(e){let t;return{c(){t=Y("Summarize")},m(n,r){E(n,t,r)},d(n){n&&x(t)}}}function jt(e){let t,n;return{c(){t=k("span"),n=Y(`
    Summarizing`),m(t,"class","loading-icon svelte-wy7l08")},m(r,s){E(r,t,s),E(r,n,s)},d(r){r&&(x(t),x(n))}}}function Ve(e){let t,n,r;function s(o){e[12](o)}let a={$$slots:{footer:[Vt],default:[Kt]},$$scope:{ctx:e}};return e[2]!==void 0&&(a.showModal=e[2]),t=new Tt({props:a}),J.push(()=>Oe(t,"showModal",s)),t.$on("close",e[9]),{c(){ve(t.$$.fragment)},m(o,i){le(t,o,i),r=!0},p(o,i){const l={};i&1048603&&(l.$$scope={dirty:i,ctx:o}),!n&&i&4&&(n=!0,l.showModal=o[2],Le(()=>n=!1)),t.$set(l)},i(o){r||(y(t.$$.fragment,o),r=!0)},o(o){A(t.$$.fragment,o),r=!1},d(o){ae(t,o)}}}function qe(e){let t,n,r=Fe(e[4]),s=[];for(let o=0;o<r.length;o+=1)s[o]=Qe(Ke(e,r,o));const a=o=>A(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=re()},m(o,i){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,i);E(o,t,i),n=!0},p(o,i){if(i&17){r=Fe(o[4]);let l;for(l=0;l<r.length;l+=1){const c=Ke(o,r,l);s[l]?(s[l].p(c,i),y(s[l],1)):(s[l]=Qe(c),s[l].c(),y(s[l],1),s[l].m(t.parentNode,t))}for(oe(),l=r.length;l<s.length;l+=1)a(l);ie()}},i(o){if(!n){for(let i=0;i<r.length;i+=1)y(s[i]);n=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)A(s[i]);n=!1},d(o){o&&x(t),it(s,o)}}}function Qe(e){let t,n;return t=new Lt({props:{service:e[17],pageId:e[0].page_id}}),{c(){ve(t.$$.fragment)},m(r,s){le(t,r,s),n=!0},p(r,s){const a={};s&16&&(a.service=r[17]),s&1&&(a.pageId=r[0].page_id),t.$set(a)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){ae(t,r)}}}function Kt(e){let t,n=je(e[3])+"",r,s,a,o=e[1].features.suggestion&&e[4].length>0&&qe(e);return{c(){t=new pt(!1),r=N(),o&&o.c(),s=re(),t.a=r},m(i,l){t.m(n,i,l),E(i,r,l),o&&o.m(i,l),E(i,s,l),a=!0},p(i,l){(!a||l&8)&&n!==(n=je(i[3])+"")&&t.p(n),i[1].features.suggestion&&i[4].length>0?o?(o.p(i,l),l&18&&y(o,1)):(o=qe(i),o.c(),y(o,1),o.m(s.parentNode,s)):o&&(oe(),A(o,1,1,()=>{o=null}),ie())},i(i){a||(y(o),a=!0)},o(i){A(o),a=!1},d(i){i&&(t.d(),x(r),x(s)),o&&o.d(i)}}}function Ye(e){let t,n,r;function s(o){e[11](o)}let a={};return e[0]!==void 0&&(a.article=e[0]),t=new Rt({props:a}),J.push(()=>Oe(t,"article",s)),{c(){ve(t.$$.fragment)},m(o,i){le(t,o,i),r=!0},p(o,i){const l={};!n&&i&1&&(n=!0,l.article=o[0],Le(()=>n=!1)),t.$set(l)},i(o){r||(y(t.$$.fragment,o),r=!0)},o(o){A(t.$$.fragment,o),r=!1},d(o){ae(t,o)}}}function Vt(e){let t,n,r=e[1].features.subscription===!0&&Ye(e);return{c(){r&&r.c(),t=re()},m(s,a){r&&r.m(s,a),E(s,t,a),n=!0},p(s,a){s[1].features.subscription===!0?r?(r.p(s,a),a&2&&y(r,1)):(r=Ye(s),r.c(),y(r,1),r.m(t.parentNode,t)):r&&(oe(),A(r,1,1,()=>{r=null}),ie())},i(s){n||(y(r),n=!0)},o(s){A(r),n=!1},d(s){s&&x(t),r&&r.d(s)}}}function qt(e){let t,n,r,s,a,o,i,l,c;function b(u,d){return u[5]?jt:Zt}let h=b(e),p=h(e),f=e[6]&&Ve(e);return{c(){t=k("link"),n=N(),r=k("button"),p.c(),a=N(),f&&f.c(),o=re(),m(t,"href","https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"),m(t,"rel","stylesheet"),m(r,"class",s="getsummer-btn radius-"+e[1].appearance.button_radius+" theme-"+e[1].appearance.button_theme+" svelte-wy7l08"),$e(r,"opacity",e[7].opacity)},m(u,d){v(document.head,t),E(u,n,d),E(u,r,d),p.m(r,null),E(u,a,d),f&&f.m(u,d),E(u,o,d),i=!0,l||(c=L(r,"click",e[8]),l=!0)},p(u,[d]){h!==(h=b(u))&&(p.d(1),p=h(u),p&&(p.c(),p.m(r,null))),(!i||d&2&&s!==(s="getsummer-btn radius-"+u[1].appearance.button_radius+" theme-"+u[1].appearance.button_theme+" svelte-wy7l08"))&&m(r,"class",s),(!i||d&128)&&$e(r,"opacity",u[7].opacity),u[6]?f?(f.p(u,d),d&64&&y(f,1)):(f=Ve(u),f.c(),y(f,1),f.m(o.parentNode,o)):f&&(oe(),A(f,1,1,()=>{f=null}),ie())},i(u){i||(y(f),i=!0)},o(u){A(f),i=!1},d(u){u&&(x(n),x(r),x(a),x(o)),x(t),p.d(),f&&f.d(u),l=!1,c()}}}function Qt(){return{opacity:0}}function Yt(e,t,n){let r=!1,{projectId:s}=t,{settings:a}=t,{article:o}=t,i="",l=[],c=!1,b=!1,h=!1,p=Qt();const f=ke(s);gt(async()=>{h||(n(7,p={opacity:1}),n(6,h=!0))});const u=(g=100)=>{setTimeout(()=>{n(2,r=!0),n(7,p.opacity=0,p)},g)},d=()=>{if(!b){if(i)return u();n(5,b=!0),c=!1;try{const g=f.getSummary(o.page_id);g.result.subscribe(M=>{n(3,i+=M)}),g.isCompleted.subscribe(M=>{M===!0&&(c=!0,T())}),u(100)}catch{n(5,b=!1)}}},T=async()=>{var g;if(c&&a.features.suggestion)try{const M=await f.getServices(o.page_id);(g=M.body)!=null&&g.hasOwnProperty("services")&&n(4,l=M.body.services)}catch(M){console.log(M)}},ye=()=>{n(5,b=!1),n(2,r=!1),setTimeout(()=>n(7,p.opacity=1,p),500)};function xe(g){o=g,n(0,o)}function C(g){r=g,n(2,r)}return e.$$set=g=>{"projectId"in g&&n(10,s=g.projectId),"settings"in g&&n(1,a=g.settings),"article"in g&&n(0,o=g.article)},[o,a,r,i,l,b,h,p,d,ye,s,xe,C]}class Ut extends ue{constructor(t){super(),ce(this,t,Yt,qt,Q,{projectId:10,settings:1,article:0},Ht)}}let X,Ue,Ge;const Je=e=>{console.log(`%c${e}`,"background: #FFEFE7; padding: 2px 10px;")},We=()=>{X&&typeof X.$destroy=="function"&&X.$destroy(),X=void 0},Gt=(e,t,n)=>{var a;const r="getsummer-"+e;let s=document.getElementById(r);return s?(s.innerHTML!==""&&(s.innerHTML=""),(a=s.shadowRoot)!=null&&a.innerHTML&&(s.shadowRoot.innerHTML="")):(s=document.createElement("div"),s.id=r,document.body.appendChild(s)),We(),X=new Ut({target:s.attachShadow({mode:"open"}),props:{projectId:e,settings:t,article:n}}),r},Xe=(e,t,n=100)=>{const r=new URL(t).pathname,s=e.settings;clearInterval(Ue),clearTimeout(Ge),!(typeof s.paths.find(o=>r.indexOf(o)===0)>"u")&&(Ge=setTimeout(()=>{xt(e.id,t).then(o=>{const i=o.body;if(!i)return Je("GetSummer: Skipping page as there's no article");if("code"in i)return console.error("GetSummer",o);const l=()=>Gt(e.id,s,i.article),c=l();Ue=setInterval(()=>{document.getElementById(c)===null&&(Je("GetSummer: App destroyed, reinstalling"),We(),l())},2e3)}).catch(o=>{console.error("GetSummer Init App",o)})},n))},et={id:window.GetSummer.id,settings:window.GetSummer.settings};let pe=location.href;Xe(et,pe),new MutationObserver(function(){location.href!==pe&&(pe=location.href,Xe(et,pe,1e3))}).observe(document,{subtree:!0,childList:!0})});
